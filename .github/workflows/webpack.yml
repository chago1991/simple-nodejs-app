name: Build and Deploy

on:
  push:
    branches:
      - master

jobs:
  build-and-deploy:
    runs-on: self-hosted

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: Set up Node.js
      uses: actions/setup-node@v2
      with:
        node-version: 18

    - name: Install dependencies and build
      run: |
        npm install

    #- name: Copy files to the remote server
    #  uses: appleboy/scp-action@master
    #  with:
    #    host: 10.10.73.230
    #    username: upload
    #    source: "your/local/folder"
    #    target: "your/remote/folder"

    #- name: Start the application on the remote server
    #  uses: appleboy/ssh-action@master
    #  with:
    #    host: 10.10.73.230
    #    username: your-username
    #    password: your-password
    #    script: |
    #      cd your/remote/folder
    #      npm start
